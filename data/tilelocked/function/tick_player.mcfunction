# Tag the current player for use within this function
tag @s add currentPlayer

# Check if the TileLockedSettings trigger command was executed

# Adjust our difficulty
execute as @s[scores={TileLockedSettings=10}] run scoreboard players set #difficulty TileLockedData 0
execute as @s[scores={TileLockedSettings=11}] run scoreboard players set #difficulty TileLockedData 1
execute as @s[scores={TileLockedSettings=12}] run scoreboard players set #difficulty TileLockedData 2

# Tile unlock chime
execute as @s[scores={TileLockedSettings=20}] run scoreboard players set #unlockSound TileLockedData 0
execute as @s[scores={TileLockedSettings=21}] run scoreboard players set #unlockSound TileLockedData 1

# Tile unlock text
execute as @s[scores={TileLockedSettings=30}] run scoreboard players set #unlockTexts TileLockedData 0
execute as @s[scores={TileLockedSettings=31}] run scoreboard players set #unlockTexts TileLockedData 1

# Tile color
execute as @s[scores={TileLockedSettings=100}] run scoreboard players set #tileColor TileLockedData 0
execute as @s[scores={TileLockedSettings=101}] run scoreboard players set #tileColor TileLockedData 1
execute as @s[scores={TileLockedSettings=102}] run scoreboard players set #tileColor TileLockedData 2
execute as @s[scores={TileLockedSettings=103}] run scoreboard players set #tileColor TileLockedData 3
execute as @s[scores={TileLockedSettings=104}] run scoreboard players set #tileColor TileLockedData 4
execute as @s[scores={TileLockedSettings=105}] run scoreboard players set #tileColor TileLockedData 5
execute as @s[scores={TileLockedSettings=106}] run scoreboard players set #tileColor TileLockedData 6
execute as @s[scores={TileLockedSettings=107}] run scoreboard players set #tileColor TileLockedData 7
execute as @s[scores={TileLockedSettings=108}] run scoreboard players set #tileColor TileLockedData 8
execute as @s[scores={TileLockedSettings=109}] run scoreboard players set #tileColor TileLockedData 9
execute as @s[scores={TileLockedSettings=110}] run scoreboard players set #tileColor TileLockedData 10
execute as @s[scores={TileLockedSettings=111}] run scoreboard players set #tileColor TileLockedData 11
execute as @s[scores={TileLockedSettings=112}] run scoreboard players set #tileColor TileLockedData 12
execute as @s[scores={TileLockedSettings=113}] run scoreboard players set #tileColor TileLockedData 13
execute as @s[scores={TileLockedSettings=114}] run scoreboard players set #tileColor TileLockedData 14
execute as @s[scores={TileLockedSettings=115}] run scoreboard players set #tileColor TileLockedData 15
execute as @s[scores={TileLockedSettings=116}] run scoreboard players set #tileColor TileLockedData 16

# Show our settings menu
execute as @s[scores={TileLockedSettings=1..}] run tellraw @s ["",{"text":"\n======= ðŸ”’ Tile Locked Settings ðŸ”’ ======="}]
# difficulty
execute as @s[scores={TileLockedSettings=1..}] if score #difficulty TileLockedData matches 0 run tellraw @s ["",{"text":"Tile Cost:        ","color":"gold"},{"text":"[ 1 xp ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 10"},"hoverEvent":{"action":"show_text","contents":"Set the cost of each tile to 1 xp"}},{"text":" "},{"text":"[ 5 xp ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 11"},"hoverEvent":{"action":"show_text","contents":"Set the cost of each tile to 5 xp"}},{"text":" "},{"text":"[ 1 level ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 12"},"hoverEvent":{"action":"show_text","contents":"Set the cost of each tile to 1 level"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #difficulty TileLockedData matches 1 run tellraw @s ["",{"text":"Tile Cost:        ","color":"gold"},{"text":"[ 1 xp ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 10"},"hoverEvent":{"action":"show_text","contents":"Set the cost of each tile to 1 xp"}},{"text":" "},{"text":"[ 5 xp ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 11"},"hoverEvent":{"action":"show_text","contents":"Set the cost of each tile to 5 xp"}},{"text":" "},{"text":"[ 1 level ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 12"},"hoverEvent":{"action":"show_text","contents":"Set the cost of each tile to 1 level"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #difficulty TileLockedData matches 2 run tellraw @s ["",{"text":"Tile Cost:        ","color":"gold"},{"text":"[ 1 xp ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 10"},"hoverEvent":{"action":"show_text","contents":"Set the cost of each tile to 1 xp"}},{"text":" "},{"text":"[ 5 xp ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 11"},"hoverEvent":{"action":"show_text","contents":"Set the cost of each tile to 5 xp"}},{"text":" "},{"text":"[ 1 level ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 12"},"hoverEvent":{"action":"show_text","contents":"Set the cost of each tile to 1 level"}}]
# chime
execute as @s[scores={TileLockedSettings=1..}] if score #unlockSound TileLockedData matches 0 run tellraw @s ["",{"text":"Tile Unlock Chime:                 ","color":"gold"},{"text":"[ disabled ]","color":"red","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 21"},"hoverEvent":{"action":"show_text","contents":"Play a sound when you unlock a tile"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #unlockSound TileLockedData matches 1 run tellraw @s ["",{"text":"Tile Unlock Chime:                  ","color":"gold"},{"text":"[ enabled ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 20"},"hoverEvent":{"action":"show_text","contents":"Play a sound when you unlock a tile"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #unlockTexts TileLockedData matches 0 run tellraw @s ["",{"text":"Tile Unlock Text:                 ","color":"gold"},{"text":"[ disabled ]","color":"red","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 31"},"hoverEvent":{"action":"show_text","contents":"Show text when you unlock a tile"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #unlockTexts TileLockedData matches 1 run tellraw @s ["",{"text":"Tile Unlock Text:                  ","color":"gold"},{"text":"[ enabled ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 30"},"hoverEvent":{"action":"show_text","contents":"Show text when you unlock a tile"}}]
# color
execute as @s[scores={TileLockedSettings=1..}] unless score #tileColor TileLockedData matches 0..2 run tellraw @s ["",{"text":"Tile Color:  ","color":"gold"},{"text":"[ clear ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 100"}},{"text":" "},{"text":"[ white ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 101"}},{"text":" "},{"text":"[ light gray ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 102"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 0 run tellraw @s ["",{"text":"Tile Color:  ","color":"gold"},{"text":"[ clear ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 100"}},{"text":" "},{"text":"[ white ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 101"}},{"text":" "},{"text":"[ light gray ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 102"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 1 run tellraw @s ["",{"text":"Tile Color:  ","color":"gold"},{"text":"[ clear ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 100"}},{"text":" "},{"text":"[ white ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 101"}},{"text":" "},{"text":"[ light gray ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 102"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 2 run tellraw @s ["",{"text":"Tile Color:  ","color":"gold"},{"text":"[ clear ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 100"}},{"text":" "},{"text":"[ white ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 101"}},{"text":" "},{"text":"[ light gray ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 102"}}]
execute as @s[scores={TileLockedSettings=1..}] unless score #tileColor TileLockedData matches 3..6 run tellraw @s ["",{"text":"          ","color":"gold"},{"text":"[ gray ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 103"}},{"text":" "},{"text":"[ black ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 104"}},{"text":" "},{"text":"[ brown ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 105"}},{"text":" "},{"text":"[ red ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 106"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 3 run tellraw @s ["",{"text":"          ","color":"gold"},{"text":"[ gray ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 103"}},{"text":" "},{"text":"[ black ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 104"}},{"text":" "},{"text":"[ brown ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 105"}},{"text":" "},{"text":"[ red ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 106"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 4 run tellraw @s ["",{"text":"          ","color":"gold"},{"text":"[ gray ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 103"}},{"text":" "},{"text":"[ black ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 104"}},{"text":" "},{"text":"[ brown ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 105"}},{"text":" "},{"text":"[ red ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 106"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 5 run tellraw @s ["",{"text":"          ","color":"gold"},{"text":"[ gray ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 103"}},{"text":" "},{"text":"[ black ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 104"}},{"text":" "},{"text":"[ brown ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 105"}},{"text":" "},{"text":"[ red ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 106"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 6 run tellraw @s ["",{"text":"          ","color":"gold"},{"text":"[ gray ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 103"}},{"text":" "},{"text":"[ black ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 104"}},{"text":" "},{"text":"[ brown ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 105"}},{"text":" "},{"text":"[ red ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 106"}}]
execute as @s[scores={TileLockedSettings=1..}] unless score #tileColor TileLockedData matches 7..10 run tellraw @s ["",{"text":"      ","color":"gold"},{"text":"[ orange ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 107"}},{"text":" "},{"text":"[ yellow ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 108"}},{"text":" "},{"text":"[ lime ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 109"}},{"text":" "},{"text":"[ green ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 110"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 7 run tellraw @s ["",{"text":"      ","color":"gold"},{"text":"[ orange ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 107"}},{"text":" "},{"text":"[ yellow ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 108"}},{"text":" "},{"text":"[ lime ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 109"}},{"text":" "},{"text":"[ green ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 110"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 8 run tellraw @s ["",{"text":"      ","color":"gold"},{"text":"[ orange ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 107"}},{"text":" "},{"text":"[ yellow ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 108"}},{"text":" "},{"text":"[ lime ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 109"}},{"text":" "},{"text":"[ green ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 110"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 9 run tellraw @s ["",{"text":"      ","color":"gold"},{"text":"[ orange ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 107"}},{"text":" "},{"text":"[ yellow ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 108"}},{"text":" "},{"text":"[ lime ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 109"}},{"text":" "},{"text":"[ green ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 110"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 10 run tellraw @s ["",{"text":"      ","color":"gold"},{"text":"[ orange ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 107"}},{"text":" "},{"text":"[ yellow ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 108"}},{"text":" "},{"text":"[ lime ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 109"}},{"text":" "},{"text":"[ green ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 110"}}]
execute as @s[scores={TileLockedSettings=1..}] unless score #tileColor TileLockedData matches 11..13 run tellraw @s ["",{"text":"                ","color":"gold"},{"text":"[ cyan ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 111"}},{"text":" "},{"text":"[ light blue ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 112"}},{"text":" "},{"text":"[ blue ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 113"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 11 run tellraw @s ["",{"text":"                ","color":"gold"},{"text":"[ cyan ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 111"}},{"text":" "},{"text":"[ light blue ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 112"}},{"text":" "},{"text":"[ blue ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 113"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 12 run tellraw @s ["",{"text":"                ","color":"gold"},{"text":"[ cyan ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 111"}},{"text":" "},{"text":"[ light blue ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 112"}},{"text":" "},{"text":"[ blue ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 113"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 13 run tellraw @s ["",{"text":"                ","color":"gold"},{"text":"[ cyan ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 111"}},{"text":" "},{"text":"[ light blue ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 112"}},{"text":" "},{"text":"[ blue ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 113"}}]
execute as @s[scores={TileLockedSettings=1..}] unless score #tileColor TileLockedData matches 14..16 run tellraw @s ["",{"text":"                ","color":"gold"},{"text":"[ purple ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 114"}},{"text":" "},{"text":"[ magenta ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 115"}},{"text":" "},{"text":"[ pink ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 116"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 14 run tellraw @s ["",{"text":"                ","color":"gold"},{"text":"[ purple ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 114"}},{"text":" "},{"text":"[ magenta ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 115"}},{"text":" "},{"text":"[ pink ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 116"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 15 run tellraw @s ["",{"text":"                ","color":"gold"},{"text":"[ purple ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 114"}},{"text":" "},{"text":"[ magenta ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 115"}},{"text":" "},{"text":"[ pink ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 116"}}]
execute as @s[scores={TileLockedSettings=1..}] if score #tileColor TileLockedData matches 16 run tellraw @s ["",{"text":"                ","color":"gold"},{"text":"[ purple ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 114"}},{"text":" "},{"text":"[ magenta ]","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 115"}},{"text":" "},{"text":"[ pink ]","color":"green","clickEvent":{"action":"run_command","value":"/trigger TileLockedSettings set 116"}}]
# End menu
execute as @s[scores={TileLockedSettings=1..}] run tellraw @s ["",{"text":"==================================="}]


# Reset the trigger
execute as @s[scores={TileLockedSettings=1..}] at @s run scoreboard players reset @s TileLockedSettings

# Clean up
tag @s remove currentPlayer
